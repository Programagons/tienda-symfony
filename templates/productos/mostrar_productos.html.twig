{% extends 'base.html.twig' %}

{% block title %}Lista de Productos{% endblock %}

{% block contenido %}
    <h1>Productos</h1>

    {% if productos is empty %}
        <p>No hay productos disponibles.</p>
    {% else %}
        <form method="post" action="{{ path('anadir') }}">
            <table border="1" cellpadding="5" id="productos">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Precio</th>
                        <th>Unidades</th>
                    </tr>
                </thead>
                <tbody>
                    {% for producto in productos %}
                        <tr>
                            <td>
                                <a href="{{ path('detalles', {'producto': producto.getId()}) }}">
                                    {{ producto.getNombre() }}
                                </a>
                            </td>
                            <td>{{ producto.getPrecio() }}â‚¬</td>
                            <td>
                                <input type="number" name="unidades[]" value="0" min="0">
                                <input type="hidden" name="productos_id[]" value="{{ producto.getId() }}">
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>

            <br>
            <input type="submit" value="Enviar">
        </form>
    {% endif %}
{% endblock %}
